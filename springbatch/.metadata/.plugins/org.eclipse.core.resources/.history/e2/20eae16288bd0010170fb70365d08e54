//package com.terry996996.springbatch.config;
//
//import org.springframework.batch.core.Job;
//import org.springframework.batch.core.Step;
//import org.springframework.batch.core.StepContribution;
//import org.springframework.batch.core.job.builder.JobBuilder;
//import org.springframework.batch.core.repository.JobRepository;
//import org.springframework.batch.core.scope.context.ChunkContext;
//import org.springframework.batch.core.step.builder.StepBuilder;
//import org.springframework.batch.core.step.tasklet.Tasklet;
//import org.springframework.batch.repeat.RepeatStatus;
//import org.springframework.context.annotation.Bean;
//import org.springframework.context.annotation.Configuration;
//import org.springframework.transaction.PlatformTransactionManager;
//
//@Configuration
//public class JobConfiguration {
//
//	private final JobRepository jobRepository;
//    private final PlatformTransactionManager platformTransactionManager;
//    
//    public JobConfiguration(JobRepository jobRepository, PlatformTransactionManager platformTransactionManager) {
//        this.jobRepository = jobRepository;
//        this.platformTransactionManager = platformTransactionManager;
//    }
//    
//    // 創建Tasklet物件
//    @Bean
//    public Tasklet firstTasklet() {
//    	return new Tasklet() {
//
//			@Override
//			public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {
//				System.out.println("Hello World!");
//				return RepeatStatus.FINISHED;
//			}
//    		
//    	};
//    }
//    
//    // 使用StepBuilder創建Step物件
//    @Bean
//    public Step firstStep(Tasklet firstTasklet) {
//    	return new StepBuilder("firstStep", jobRepository)
//    			.allowStartIfComplete(true) // 即使已完成也允許重啟
//    			.tasklet(firstTasklet, platformTransactionManager)
//    			.build();
//    }
//	
//    // 使用JobBuilder創建任務物件
//    @Bean
//    public Job firstJob(Step firstStep) {
//    	return new JobBuilder("firstJob", jobRepository)
//    			.start(firstStep)
//    			.build();
//    }
//    
//}
